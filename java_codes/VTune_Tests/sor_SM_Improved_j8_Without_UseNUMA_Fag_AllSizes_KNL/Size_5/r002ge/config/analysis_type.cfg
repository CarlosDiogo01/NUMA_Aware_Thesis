<?xml version="1.0" encoding="UTF-8"?>
<bag xmlns:boolean="http://www.w3.org/2001/XMLSchema#boolean" xmlns:exsl="http://exslt.org/common" xmlns:int="http://www.w3.org/2001/XMLSchema#int" xmlns:str="http://exslt.org/strings" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <internal>
  <name>%CommonGeneralExplorationAtypeName</name>
  <shortName>%CommonGeneralExplorationAtypeShortName</shortName>
  <description>%CommonGeneralExplorationAtypeDescription</description>
  <abbreviation>ge</abbreviation>
  <alias>general-exploration</alias>
  <int:schemaVersion>1</int:schemaVersion>
  <int:contentVersion>1</int:contentVersion>
  <property name="helpId">configs.event_based_analysis_f1103</property>
 </internal>
 <prerequisites xsl:version="1.0" str:keep_str_namespace="" exsl:keep_exsl_namespace="" syntax="norules">
  <xsl:copy-of select="document('config://analysis_type/include/require_connection.xsl?connections=group_generic,group_mic')"/>
 </prerequisites>
 <knobs xsl:version="1.0" exsl:keep_exsl_namespace="" syntax="norules">
  <xsl:variable name="commonKnobs" select="document('config://analysis_type/include/knobs.xsl')"/>
  <xsl:copy-of select="$commonKnobs//knobs/booleanKnob[@id='collectMemoryBW']"/>
  <xsl:copy-of select="$commonKnobs//knobs/booleanKnob[@id='dramBandwidthLimitsAT']"/>
  <xsl:copy-of select="$commonKnobs//knobs/booleanKnob[@id='analyzeOpenMPRegions']"/>
  <stringKnob id="initialViewpoint" displayName="%InitialViewpoint" boolean:visible="false">
   <xsl:choose>
    <xsl:when test="(exsl:ctx('PMU') = 'corei7') or (exsl:ctx('PMU') = 'corei7wsp') or (exsl:ctx('PMU') = 'corei7wdp') or (exsl:ctx('PMU') = 'corei7b') or (exsl:ctx('PMU') = 'core2') or (exsl:ctx('PMU') = 'core2p')">
     <defaultValue>%HardwareIssuesViewpointName</defaultValue>
    </xsl:when>
    <xsl:when test="(exsl:ctx('PMU') = 'knc')">
     <defaultValue>%KNCGeneralExplorationViewpointName</defaultValue>
    </xsl:when>
    <xsl:otherwise>
     <defaultValue>%SNBGeneralExplorationViewpointName</defaultValue>
    </xsl:otherwise>
   </xsl:choose>
  </stringKnob>
  <xsl:if test="(exsl:ctx('PMU') = 'knc')">
   <booleanKnob id="enableCacheUsageMetrics" displayName="%EnableCacheUsageMetrics" cliName="enable-cache-metrics">
    <description>%EnableCacheUsageMetricsDescription</description>
    <boolean:defaultValue>true</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableVPUUsageMetrics" displayName="%EnableVPUUsageMetrics" cliName="enable-vpu-metrics">
    <description>%EnableVPUUsageDescription</description>
    <boolean:defaultValue>false</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableTLBUsageMetrics" displayName="%EnableTLBUsageMetrics" cliName="enable-tlb-metrics">
    <description>%EnableTLBUsageDescription</description>
    <boolean:defaultValue>false</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableL2CacheEvents" displayName="%EnableL2CacheEvents" cliName="enable-l2-events">
    <description>%EnableL2CacheEventsDescription</description>
    <boolean:defaultValue>true</boolean:defaultValue>
   </booleanKnob>
  </xsl:if>
  <booleanKnob id="userTasksEventsCountersCollection" displayName="%UserTasksEventsCountersCollection" boolean:visible="true" cliName="enable-user-tasks">
   <description>%UserTasksEventsCountersCollectionDescription</description>
   <boolean:defaultValue>false</boolean:defaultValue>
  </booleanKnob>
 </knobs>
 <analysis xsl:version="1.0" exsl:keep_exsl_namespace="" str:keep_str_namespace="" syntax="norules">
  <xsl:if test="not (       exsl:ctx('PMU') = 'core2'       or exsl:ctx('PMU') = 'core2p'       or exsl:ctx('PMU') = 'corei7'       or exsl:ctx('PMU') = 'corei7b'       or exsl:ctx('PMU') = 'corei7wdp'       or exsl:ctx('PMU') = 'corei7wsp'       or exsl:ctx('PMU') = 'corei7b'       or exsl:ctx('PMU') = 'snb'       or exsl:ctx('PMU') = 'ivybridge'       or exsl:ctx('PMU') = 'snbep'       or exsl:ctx('PMU') = 'ivytown'       or exsl:ctx('PMU') = 'haswell'       or exsl:ctx('PMU') = 'haswell_server'       or exsl:ctx('PMU') = 'crystalwell'       or exsl:ctx('PMU') = 'knc'       or exsl:ctx('PMU') = 'broadwell'       or exsl:ctx('PMU') = 'broadwell_de'       or exsl:ctx('PMU') = 'broadwell_server'       or exsl:ctx('PMU') = 'silvermont'       or exsl:ctx('PMU') = 'atom'       or exsl:ctx('PMU') = 'tangier'       or exsl:ctx('PMU') = 'avoton'       or exsl:ctx('PMU') = 'airmont'       or exsl:ctx('PMU') = 'skylake'       or exsl:ctx('PMU') = 'skylake_server'       or exsl:ctx('PMU') = 'knl'       or exsl:ctx('PMU') = 'goldmont'       )">
   <xsl:value-of select="exsl:error('%ThisAnalysisTypeIsNotApplicable')"/>
  </xsl:if>
  <xsl:if test="exsl:ctx('PerfmonVersion', '4') = '0'">
   <xsl:value-of select="exsl:error('%PerfMonVersionWarning')"/>
  </xsl:if>
  <collector id="runsa">
   <xsl:if test="(exsl:ctx('PMU') != 'knc')">
    <boolean:collectorKnob knob="cpuGpuUsageData">true</boolean:collectorKnob>
   </xsl:if>
   <collectorKnob knob="collectUserTasksEventsCountersMode">
    <xsl:copy-of select="exsl:ctx('userTasksEventsCountersCollection', 0)"/>
   </collectorKnob>
   <collectorKnob knob="collectOpenMPRegions">
    <xsl:value-of select="exsl:ctx('analyzeOpenMPRegions', 0)"/>
   </collectorKnob>
   <xsl:variable name="geEvents">
    <xsl:choose>
     <xsl:when test="exsl:ctx('PMU') = 'knc'">
      <xsl:if test="exsl:ctx('enableCacheUsageMetrics', 0) or exsl:ctx('enableVPUUsageMetrics', 0)">
       <xsl:text>,DATA_READ_MISS_OR_WRITE_MISS:sa=1000000</xsl:text>
      </xsl:if>
      <xsl:text>,DATA_READ_OR_WRITE:sa=1000000</xsl:text>
      <xsl:if test="exsl:ctx('enableCacheUsageMetrics', 0)">
       <xsl:text>,EXEC_STAGE_CYCLES:sa=10000000</xsl:text>
       <xsl:text>,L1_DATA_HIT_INFLIGHT_PF1:sa=50000</xsl:text>
      </xsl:if>
      <xsl:if test="exsl:ctx('enableTLBUsageMetrics', 0)">
       <xsl:text>,DATA_PAGE_WALK:sa=1000000</xsl:text>
       <xsl:text>,LONG_DATA_PAGE_WALK:sa=50000</xsl:text>
      </xsl:if>
      <xsl:if test="exsl:ctx('enableVPUUsageMetrics', 0)">
       <xsl:text>,VPU_INSTRUCTIONS_EXECUTED:sa=10000000</xsl:text>
       <xsl:text>,VPU_ELEMENTS_ACTIVE:sa=10000000</xsl:text>
      </xsl:if>
      <xsl:if test="exsl:ctx('enableL2CacheEvents', 0)">
       <xsl:text>,L2_DATA_READ_MISS_CACHE_FILL:sa=100000</xsl:text>
       <xsl:text>,L2_DATA_WRITE_MISS_CACHE_FILL:sa=100000</xsl:text>
       <xsl:text>,L2_DATA_READ_MISS_MEM_FILL:sa=100000</xsl:text>
       <xsl:text>,L2_DATA_WRITE_MISS_MEM_FILL:sa=100000</xsl:text>
      </xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'core2' or exsl:ctx('PMU') = 'core2p'">
      <xsl:text>,BUS_TRANS_MEM.ALL_AGENTS:,BUS_TRANS_BURST.SELF:sa=100000,CPU_CLK_UNHALTED.CORE:sa=2000000,INST_RETIRED.ANY:sa=2000000,MEM_LOAD_RETIRED.L2_LINE_MISS:sa=100000,RESOURCE_STALLS.BR_MISS_CLEAR:sa=2000000,RS_UOPS_DISPATCHED.CYCLES_NONE:sa=2000000,MEM_LOAD_RETIRED.L2_MISS:,CYCLES_L1I_MEM_STALLED:,BR_MISSP_EXEC:,CPU_CLK_UNHALTED.REF:</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'corei7' or exsl:ctx('PMU') = 'corei7w' or exsl:ctx('PMU') = 'nhm'">
      <xsl:text>,ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE_0.ANY_DATA.IO_CSR_MMIO:,OFFCORE_RESPONSE_0.DATA_IN.ANY_DRAM:</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'corei7wsp'">
      <xsl:text>,ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'corei7wdp'">
      <xsl:text>,ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'corei7b'">
      <xsl:text>,ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE_0.ANY_DATA.IO_CSR_MMIO:,OFFCORE_RESPONSE_0.DATA_IN.ANY_DRAM:,OFFCORE_RESPONSE_0.DEMAND_DATA_RD.ANY_LLC_MISS:</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'atom'">
      <xsl:text>,BR_INST_RETIRED.MISPRED.PS:,BUS_LOCK_CLOCKS.ALL_AGENTS:,CYCLES_DIV_BUSY:,DATA_TLB_MISSES.DTLB_MISS:,EXT_SNOOP.ALL_AGENTS.HITM:,FP_ASSIST.S:,ICACHE.MISSES:,ITLB.MISSES:,MACHINE_CLEARS.SMC:,MEM_LOAD_RETIRED.L2_HIT.PS:,MEM_LOAD_RETIRED.L2_MISS.PS:,MISALIGN_MEM_REF.LD_SPLIT.AR:,MISALIGN_MEM_REF.ST_SPLIT.AR:,PAGE_WALKS.CYCLES:,REISSUE.OVERLAP_STORE.AR:,SIMD_ASSIST:,UOPS.MS_CYCLES:,UOPS_RETIRED.ANY:</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'snb'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,ICACHE.MISSES:,IDQ.MS_CYCLES:,IDQ_UOPS_NOT_DELIVERED.CORE:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS:,MEM_LOAD_UOPS_MISC_RETIRED.LLC_MISS_PS:,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,PARTIAL_RAT_STALLS.FLAGS_MERGE_UOP_CYCLES:,PARTIAL_RAT_STALLS.SLOW_LEA_WINDOW:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P:,ITLB_MISSES.STLB_HIT</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'snbep'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,ICACHE.MISSES:,IDQ.MS_CYCLES:,IDQ_UOPS_NOT_DELIVERED.CORE:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_NONE:,MEM_LOAD_UOPS_RETIRED.LLC_MISS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,PARTIAL_RAT_STALLS.FLAGS_MERGE_UOP_CYCLES:,PARTIAL_RAT_STALLS.SLOW_LEA_WINDOW:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P,ITLB_MISSES.STLB_HIT</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.ANY_RESPONSE_1:,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.LOCAL_DRAM_0:,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.REMOTE_HITM_HIT_FORWARD_1:,OFFCORE_RESPONSE.DEMAND_DATA_RD.LLC_MISS.LOCAL_DRAM_0:,OFFCORE_RESPONSE.PF_L2_DATA_RD.LLC_MISS.LOCAL_DRAM_0:</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'ivybridge'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,CYCLE_ACTIVITY.STALLS_LDM_PENDING,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,FP_COMP_OPS_EXE.SSE_PACKED_DOUBLE,FP_COMP_OPS_EXE.SSE_PACKED_SINGLE,FP_COMP_OPS_EXE.SSE_SCALAR_DOUBLE,FP_COMP_OPS_EXE.SSE_SCALAR_SINGLE,FP_COMP_OPS_EXE.X87,ICACHE.IFETCH_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION,L1D_PEND_MISS.FB_FULL:cmask=1,L1D_PEND_MISS.PENDING,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS,MEM_LOAD_UOPS_RETIRED.LLC_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,SIMD_FP_256.PACKED_DOUBLE,SIMD_FP_256.PACKED_SINGLE,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,UOPS_EXECUTED.THREAD,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE.DEMAND_RFO.LLC_HIT.HITM_OTHER_CORE_0</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'ivytown'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,CYCLE_ACTIVITY.STALLS_LDM_PENDING,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,FP_COMP_OPS_EXE.SSE_PACKED_DOUBLE,FP_COMP_OPS_EXE.SSE_PACKED_SINGLE,FP_COMP_OPS_EXE.SSE_SCALAR_DOUBLE,FP_COMP_OPS_EXE.SSE_SCALAR_SINGLE,FP_COMP_OPS_EXE.X87,ICACHE.IFETCH_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION,L1D_PEND_MISS.FB_FULL:cmask=1,L1D_PEND_MISS.PENDING,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_LLC_MISS_RETIRED.LOCAL_DRAM,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_DRAM,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_FWD,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_HITM,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS,MEM_LOAD_UOPS_RETIRED.LLC_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,SIMD_FP_256.PACKED_DOUBLE,SIMD_FP_256.PACKED_SINGLE,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,UOPS_EXECUTED.THREAD,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE.DEMAND_RFO.LLC_HIT.HITM_OTHER_CORE_0</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'haswell' or exsl:ctx('PMU') = 'crystalwell'">
      <xsl:text>,ARITH.DIVIDER_UOPS,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,CYCLE_ACTIVITY.STALLS_LDM_PENDING,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,ICACHE.IFDATA_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INST_RETIRED.X87,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION,L1D_PEND_MISS.PENDING,L1D_PEND_MISS.REQUEST_FB_FULL:cmask=1,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.HITM_OTHER_CORE</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'haswell_server'">
      <xsl:text>,ARITH.DIVIDER_UOPS,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,CYCLE_ACTIVITY.STALLS_LDM_PENDING,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,ICACHE.IFDATA_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INST_RETIRED.X87,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION,L1D_PEND_MISS.PENDING,L1D_PEND_MISS.REQUEST_FB_FULL:cmask=1,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.LOCAL_DRAM_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_DRAM_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_FWD_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_HITM_PS,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=DEMAND_RFO:response=LLC_HIT.HITM_OTHER_CORE,OFFCORE_RESPONSE:request=DEMAND_RFO:response=LLC_MISS.REMOTE_HITM</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'broadwell' or exsl:ctx('PMU') = 'broadwell_de'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.STALLS_L1D_MISS,CYCLE_ACTIVITY.STALLS_L2_MISS,CYCLE_ACTIVITY.STALLS_MEM_ANY,CYCLE_ACTIVITY.STALLS_TOTAL,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION:cmask=1,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,FP_ARITH_INST_RETIRED.128B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.256B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.256B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.SCALAR_DOUBLE,FP_ARITH_INST_RETIRED.SCALAR_SINGLE,ICACHE.IFDATA_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INST_RETIRED.X87,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION:cmask=1,L1D_PEND_MISS.FB_FULL:cmask=1,L1D_PEND_MISS.PENDING,L2_RQSTS.RFO_HIT,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.ALL_DATA_RD:cmask=4,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.SNOOP_HITM</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'broadwell_server'">
      <xsl:text>,ARITH.FPU_DIV_ACTIVE,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.STALLS_L1D_MISS,CYCLE_ACTIVITY.STALLS_L2_MISS,CYCLE_ACTIVITY.STALLS_MEM_ANY,CYCLE_ACTIVITY.STALLS_TOTAL,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION:cmask=1,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,FP_ARITH_INST_RETIRED.128B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.256B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.256B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.SCALAR_DOUBLE,FP_ARITH_INST_RETIRED.SCALAR_SINGLE,ICACHE.IFDATA_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INST_RETIRED.X87,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.STLB_HIT,ITLB_MISSES.WALK_COMPLETED,ITLB_MISSES.WALK_DURATION:cmask=1,L1D_PEND_MISS.FB_FULL:cmask=1,L1D_PEND_MISS.PENDING,L2_RQSTS.RFO_HIT,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.LOCAL_DRAM_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_DRAM_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_FWD_PS,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_HITM_PS,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.LOCK_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_LOADS_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,MEM_UOPS_RETIRED.STLB_MISS_LOADS_PS,MEM_UOPS_RETIRED.STLB_MISS_STORES_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.ALL_DATA_RD:cmask=4,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OTHER_ASSISTS.ANY_WB_ASSIST,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,RS_EVENTS.EMPTY_END:sa=200003,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=DEMAND_RFO:response=LLC_MISS.REMOTE_HITM,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.SNOOP_HITM</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'silvermont' or exsl:ctx('PMU') = 'airmont'">
      <xsl:choose>
       <xsl:when test="contains(exsl:ctx('androidBoardPlatform', ''), 'sofia')">
        <xsl:text>,BACLEARS.ALL,BR_INST_RETIRED.FAR_BRANCH,BR_MISP_RETIRED.ALL_BRANCHES,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.CORE,CPU_CLK_UNHALTED.CORE_P,CYCLES_DIV_BUSY.ALL,DECODE_RESTRICTION.PREDECODE_WRONG,FETCH_STALL.ICACHE_FILL_PENDING_CYCLES,ICACHE.MISSES,INST_RETIRED.ANY,MACHINE_CLEARS.FP_ASSIST,MACHINE_CLEARS.MEMORY_ORDERING,MACHINE_CLEARS.SMC,MEM_UOPS_RETIRED.HITM,MEM_UOPS_RETIRED.L2_HIT_LOADS,MEM_UOPS_RETIRED.L2_MISS_LOADS,MS_DECODED.MS_ENTRY,NO_ALLOC_CYCLES.MISPREDICTS,NO_ALLOC_CYCLES.NOT_DELIVERED,PAGE_WALKS.D_SIDE_CYCLES,PAGE_WALKS.D_SIDE_WALKS,PAGE_WALKS.I_SIDE_CYCLES,PAGE_WALKS.I_SIDE_WALKS,REHABQ.LD_BLOCK_ST_FORWARD,REHABQ.LD_SPLITS,REHABQ.ST_SPLITS,UOPS_RETIRED.ALL,UOPS_RETIRED.MS</xsl:text>
       </xsl:when>
       <xsl:otherwise>
        <xsl:text>,BACLEARS.ALL,BR_INST_RETIRED.FAR_BRANCH_PS,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.CORE,CPU_CLK_UNHALTED.CORE_P,CYCLES_DIV_BUSY.ALL,DECODE_RESTRICTION.PREDECODE_WRONG,FETCH_STALL.ICACHE_FILL_PENDING_CYCLES,ICACHE.MISSES,INST_RETIRED.ANY,MACHINE_CLEARS.FP_ASSIST,MACHINE_CLEARS.MEMORY_ORDERING,MACHINE_CLEARS.SMC,MEM_UOPS_RETIRED.HITM_PS,MEM_UOPS_RETIRED.L2_HIT_LOADS_PS,MEM_UOPS_RETIRED.L2_MISS_LOADS_PS,MS_DECODED.MS_ENTRY,NO_ALLOC_CYCLES.MISPREDICTS,NO_ALLOC_CYCLES.NOT_DELIVERED,PAGE_WALKS.D_SIDE_CYCLES,PAGE_WALKS.D_SIDE_WALKS,PAGE_WALKS.I_SIDE_CYCLES,PAGE_WALKS.I_SIDE_WALKS,REHABQ.LD_BLOCK_ST_FORWARD_PS,REHABQ.LD_SPLITS_PS,REHABQ.ST_SPLITS,UOPS_RETIRED.ALL,UOPS_RETIRED.MS</xsl:text>
       </xsl:otherwise>
      </xsl:choose>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'skylake' or exsl:ctx('PMU') = 'skylake_server'">
      <xsl:text>,ARITH.DIVIDER_ACTIVE,BACLEARS.ANY,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CPU_CLK_UNHALTED.THREAD_P,CYCLE_ACTIVITY.STALLS_L1D_MISS,CYCLE_ACTIVITY.STALLS_L2_MISS,CYCLE_ACTIVITY.STALLS_L3_MISS,CYCLE_ACTIVITY.STALLS_MEM_ANY,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_ACTIVE:sa=100003,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_ACTIVE:sa=100003,EXE_ACTIVITY.1_PORTS_UTIL,EXE_ACTIVITY.2_PORTS_UTIL,EXE_ACTIVITY.BOUND_ON_STORES,EXE_ACTIVITY.EXE_BOUND_0_PORTS,FP_ARITH_INST_RETIRED.128B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.256B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.256B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.SCALAR_DOUBLE,FP_ARITH_INST_RETIRED.SCALAR_SINGLE,FP_ASSIST.ANY,FRONTEND_RETIRED.DSB_MISS_PS,FRONTEND_RETIRED.L2_MISS_PS,FRONTEND_RETIRED.LATENCY_GE_16_PS,FRONTEND_RETIRED.LATENCY_GE_2_BUBBLES_GE_1_PS,FRONTEND_RETIRED.LATENCY_GE_8_PS,FRONTEND_RETIRED.STLB_MISS_PS,ICACHE_16B.IFDATA_STALL,ICACHE_64B.IFTAG_STALL,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INST_RETIRED.PREC_DIST,INT_MISC.CLEAR_RESTEER_CYCLES,INT_MISC.RECOVERY_CYCLES,L1D_PEND_MISS.FB_FULL:cmask=1,L1D_PEND_MISS.PENDING,L2_RQSTS.RFO_HIT,LD_BLOCKS.NO_SR,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LSD.CYCLES_4_UOPS:sa=2000003,LSD.CYCLES_ACTIVE:sa=2000003,MACHINE_CLEARS.COUNT,MEM_INST_RETIRED.ALL_STORES_PS,MEM_INST_RETIRED.LOCK_LOADS_PS,MEM_INST_RETIRED.SPLIT_LOADS_PS,MEM_INST_RETIRED.SPLIT_STORES_PS,MEM_INST_RETIRED.STLB_MISS_LOADS_PS,MEM_INST_RETIRED.STLB_MISS_STORES_PS,MEM_LOAD_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_RETIRED.FB_HIT_PS,MEM_LOAD_RETIRED.L1_HIT_PS,MEM_LOAD_RETIRED.L1_MISS_PS,MEM_LOAD_RETIRED.L2_HIT_PS,MEM_LOAD_RETIRED.L3_HIT_PS,MEM_LOAD_RETIRED.L3_MISS_PS,OFFCORE_REQUESTS_BUFFER.SQ_FULL,OFFCORE_REQUESTS_OUTSTANDING.ALL_DATA_RD:cmask=4,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,OTHER_ASSISTS.ANY:sa=100003,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_EXECUTED.CORE_CYCLES_NONE,UOPS_EXECUTED.THREAD,UOPS_EXECUTED.X87,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.SNOOP_HITM</xsl:if>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'knl'">
      <xsl:text>,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,INST_RETIRED.ANY,CPU_CLK_UNHALTED.THREAD_P,UOPS_RETIRED.ALL,NO_ALLOC_CYCLES.MISPREDICTS,NO_ALLOC_CYCLES.NOT_DELIVERED,UOPS_RETIRED.MS,MACHINE_CLEARS.FP_ASSIST,MEM_UOPS_RETIRED.HITM,PAGE_WALKS.CYCLES,CYCLES_DIV_BUSY.ALL,RECYCLEQ.LD_SPLITS_PS,RECYCLEQ.ST_SPLITS,RECYCLEQ.LD_BLOCK_ST_FORWARD_PS,FETCH_STALL.ICACHE_FILL_PENDING_CYCLES,MEM_UOPS_RETIRED.L2_HIT_LOADS_PS,MEM_UOPS_RETIRED.L2_MISS_LOADS_PS,MEM_UOPS_RETIRED.UTLB_MISS_LOADS,MEM_UOPS_RETIRED.ALL_LOADS,MEM_UOPS_RETIRED.ALL_STORES,UOPS_RETIRED.PACKED_SIMD,UOPS_RETIRED.SCALAR_SIMD,PAGE_WALKS.I_SIDE_CYCLES,BACLEARS.ALL,MS_DECODED.MS_ENTRY,MACHINE_CLEARS.SMC,MACHINE_CLEARS.MEMORY_ORDERING,MEM_UOPS_RETIRED.L1_MISS_LOADS</xsl:text>
     </xsl:when>
     <xsl:when test="exsl:ctx('PMU') = 'goldmont'">
      <xsl:text>,BACLEARS.ALL,BR_INST_RETIRED.FAR_BRANCH,BR_MISP_RETIRED.ALL_BRANCHES,CPU_CLK_UNHALTED.CORE_P,CYCLES_DIV_BUSY.ALL,DECODE_RESTRICTION.PREDECODE_WRONG,FETCH_STALL.ICACHE_FILL_PENDING_CYCLES,ICACHE.MISSES,ISSUE_SLOTS_NOT_CONSUMED.RECOVERY,ISSUE_SLOTS_NOT_CONSUMED.RESOURCE_FULL,LD_BLOCKS.4K_ALIAS,LD_BLOCKS.STORE_FORWARD,MACHINE_CLEARS.FP_ASSIST,MACHINE_CLEARS.MEMORY_ORDERING,MACHINE_CLEARS.SMC,MEM_LOAD_UOPS_RETIRED.DRAM_HIT,MEM_LOAD_UOPS_RETIRED.HITM,MEM_LOAD_UOPS_RETIRED.L2_HIT,MEM_UOPS_RETIRED.DTLB_MISS_LOADS,MEM_UOPS_RETIRED.DTLB_MISS_STORES,MEM_UOPS_RETIRED.LOCK_LOADS,MEM_UOPS_RETIRED.SPLIT_LOADS,MEM_UOPS_RETIRED.SPLIT_STORES,MS_DECODED.MS_ENTRY,PAGE_WALKS.D_SIDE_CYCLES,PAGE_WALKS.I_SIDE_CYCLES,UOPS_ISSUED.ANY,UOPS_NOT_DELIVERED.ANY,UOPS_RETIRED.ANY,UOPS_RETIRED.MS</xsl:text>
      <xsl:if test="exsl:ctx('Hypervisor', 'None') = 'None'">,OFFCORE_RESPONSE:request=BUS_LOCKS:response=ANY_RESPONSE</xsl:if>
     </xsl:when>
    </xsl:choose>
   </xsl:variable>
   <xsl:variable name="cpiEvents" select="document('config://analysis_type/include/common_events.xsl')/events/cpi"/>
   <collectorKnob knob="pmuEventConfig">
    <xsl:value-of select="concat($cpiEvents,$geEvents)"/>
   </collectorKnob>
   <xsl:if test="exsl:ctx('collectMemoryBW', 0)">
    <boolean:collectorKnob knob="collectMemBandwidth">true</boolean:collectorKnob>
    <xsl:if test="exsl:ctx('PMU') != 'knl' and exsl:ctx('dramBandwidthLimitsAT', 0)">
     <collectorKnob knob="dramBandwidthLimits">true</collectorKnob>
    </xsl:if>
   </xsl:if>
  </collector>
 </analysis>
</bag>
